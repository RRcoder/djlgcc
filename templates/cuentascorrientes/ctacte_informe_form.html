{% extends "base.html" %}
{% block content %}
<div class="container-fluid">

<h1>Consulta de Cuenta Corriente</h1>

<form method="post">
    {% csrf_token %}

    <div>
        {{ form.fecha_desde.label_tag }}
        {{ form.fecha_desde }}
        {{ form.fecha_desde.errors }}
    </div>

    <div>
        {{ form.fecha_hasta.label_tag }}
        {{ form.fecha_hasta }}
        {{ form.fecha_hasta.errors }}
    </div>

    {% if form.non_field_errors %}
        <div style="color:red;">
            {{ form.non_field_errors }}
        </div>
    {% endif %}

    <button type="submit">Consultar</button>
</form>

{% if resultados %}
    <hr>
    <h2>Resultado</h2>
    <p>Fecha desde: {{ resultados.desde }}</p>
    <p>Fecha hasta: {{ resultados.hasta }}</p>

    <table class="table table-bordered table-sm">
        <thead>
            <tr>
                <th>Fecha</th>
                <th>Comprobante</th>
                <th class="text-end">Debe</th>
                <th class="text-end">Haber</th>
                <th class="text-end">Subtotal</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for r in resultados.object_list %}
                <tr>
                    <td>{{ r.fecha|date:'d/m/Y' }}</td>
                    <td>{{ r.comprobante }}</td>
                    <td class="text-end">{{ r.debe  }}</td>
                    <td class="text-end">{{ r.haber }}</td>
                    <td class="text-end">{{ r.saldo }}</td>
                    <td>
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="5">No hay registros cargados.</td>
                </tr>
            {% endfor %}
                <!--<tr>-->
                    <!--<td></td>-->
                    <!--<td></td>-->
                    <!--<td class="text-end">{{ 5 }}</td>-->
                    <!--<td></td>-->
                <!--</tr>-->
        </tbody>
    </table>





{% endif %}

</div>
{% endblock %}
